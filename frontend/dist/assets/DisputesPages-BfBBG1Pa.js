import{r as e,a as t,V as s,j as a,L as l}from"./index-DaD-43PJ.js";const n=({disputes:e})=>a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left font-semibold text-gray-600",children:"Invoice #"}),a.jsx("th",{className:"p-3 text-left font-semibold text-gray-600",children:"Project"}),a.jsx("th",{className:"p-3 text-left font-semibold text-gray-600",children:"Homeowner"}),a.jsx("th",{className:"p-3 text-right font-semibold text-gray-600",children:"Amount"}),a.jsx("th",{className:"p-3 text-center font-semibold text-gray-600",children:"Disputed On"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((e=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 font-mono",children:a.jsx(l,{to:`/invoices/${e.id}`,className:"text-blue-600 hover:underline",children:e.invoice_number})}),a.jsx("td",{className:"p-3",children:e.project_title}),a.jsx("td",{className:"p-3",children:e.homeowner_name}),a.jsx("td",{className:"p-3 text-right font-semibold",children:parseFloat(e.amount||0).toLocaleString("en-US",{style:"currency",currency:"USD"})}),a.jsx("td",{className:"p-3 text-center",children:new Date(e.disputed_at||e.created_at).toLocaleDateString()})]},e.id)))})]})});function i(){const[l,i]=e.useState([]),[r,c]=e.useState(!0),[d,o]=e.useState(""),x=e.useCallback((async()=>{c(!0),o("");try{const{data:e}=await t.get("/invoices/",{params:{status:"disputed"}});i(e)}catch(e){const t="Failed to load disputed invoices.";o(t),s.error(t)}finally{c(!1)}}),[]);e.useEffect((()=>{x()}),[x]);return a.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dispute Center"}),a.jsx("button",{onClick:x,disabled:r,className:"text-blue-600 text-sm hover:underline disabled:text-gray-400",children:"Refresh"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:'Review and manage all invoices that have been marked as "disputed" by homeowners.'}),r?a.jsx("p",{className:"text-center text-gray-500 py-10",children:"Loading disputes..."}):d?a.jsx("p",{className:"text-center text-red-500 py-10",children:d}):0===l.length?a.jsx("p",{className:"text-center text-gray-500 py-10",children:"ðŸŽ‰ No disputed invoices found."}):a.jsx(n,{disputes:l})]})}export{i as default};
